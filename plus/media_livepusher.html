<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8"/>
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
		<meta name="HandheldFriendly" content="true"/>
		<meta name="MobileOptimized" content="320"/>
		<title>Hello H5+</title>
		<script type="text/javascript">
var pusher = null;
// H5 plus事件处理
function plusReady(){
	// 创建直播推流控件
	pusher = new plus.media.LivePusher('pusher',{
		src:'rtmp://push.live.dcloud.io/test/test999'
	});
	// 监听状态变化事件
	pusher.addEventListener('statechange', function(e){
		console.log('statechange: '+JSON.stringify(e));
	}, false);
}
document.addEventListener('plusready', plusReady, false);
// 开始推流
function startPusher() {
	pusher.start();
}
// 停止推流
function stopPusher() {
	pusher.stop();
}
// 切换摄像头
function switchCamera() {
	pusher.switchCamera();
}
		</script>
		<link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8"/>
	</head>
	<body>
		<br/>
		<div id="pusher" style="width:300px;height:400px;background-color:#000000;margin:auto"></div>
		<br/>
		<div class="button" onclick="startPusher()">开始</div>
		<div class="button" onclick="stopPusher()">停止</div>
		<div class="button" onclick="switchCamera()">切换摄像头</div>
	</body>
</html>